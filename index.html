<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的AI小手机</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 配置弹窗（打开页面先显示这个） -->
    <div class="config-modal" id="configModal">
        <div class="config-box">
            <h3>配置你的AI小手机</h3>
            <div class="config-item">
                <label>AI头像（上传图片）：</label>
                <!-- 隐藏的文件选择器 -->
                <input type="file" id="avatarFile" accept="image/*" style="display: none;">
                <!-- 显示的上传按钮+预览图 -->
                <div style="display: flex; align-items: center; gap: 10px;">
                    <button id="avatarUploadBtn" style="padding: 8px 15px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer;">选择图片</button>
                    <div id="avatarPreview" style="width: 40px; height: 40px; border-radius: 50%; background: #eee; overflow: hidden;">
                        <img src="" alt="预览" style="width: 100%; height: 100%; object-fit: cover; display: none;">
                    </div>
                </div>
            </div>
            <div class="config-item">
                <label>AI名称：</label>
                <input type="text" id="nameInput" placeholder="比如“日野森志步”">
            </div>
            <div class="config-item">
                <label>AI人设：</label>
                <textarea id="settingInput" placeholder="比如“你是我的朋友，说话温柔，回复简短”"></textarea>
            </div>
            <div class="config-item">
                <label>API接口网址：</label>
                <input type="text" id="apiUrlInput" placeholder="比如https://open.doubao.com/api/v1/chat/completions">
            </div>
            <div class="config-item">
                <label>API密钥（Bearer Token）：</label>
                <input type="text" id="apiKeyInput" placeholder="比如sk-开头的密钥，或其他API的Token">
            </div>
            <button id="saveConfigBtn">保存配置，进入聊天</button>
        </div>
    </div>

    <!-- 手机整体外壳（默认隐藏，配置后显示） -->
    <div class="phone" id="phone" style="display: none;">
        <div class="phone-status" id="deviceStatus">加载中...</div>
        <div class="chat-header">
            <div class="avatar" id="avatarDisplay">
                <img src="https://via.placeholder.com/40/eee/333?text=AI" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
            </div>
            <div class="chat-name" id="nameDisplay">我的AI</div>
        </div>
        <div class="chat-content" id="chatContent">
            <!-- AI欢迎语会根据人设动态生成，无需固定文案 -->
        </div>
        <div class="input-area">
            <input type="text" id="msgInput" placeholder="输入消息，回车发送..." autocomplete="off">
            <button id="sendBtn">发送</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
